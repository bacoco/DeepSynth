# API-MASTER Skill Creation Directive

**Generated by NEXUS** on 2025-10-25 17:50:26
**Updated**: 2025-10-25 (Enhanced with specific API guidance)
**Priority Score**: 0.85 (üü¢ HIGH)

---

## üìä Pattern Analysis Results

### Detection Summary
Detected 20 tasks related to API development, integration, and optimization

### Detailed Scores
- **Frequency Score**: 0.75 (High volume of API-related work)
- **Impact Score**: 0.85 (APIs are critical infrastructure)
- **Trend Score**: 0.70 (Increasing API development needs)
- **ROI Score**: 0.90 (High automation potential)

### Supporting Patterns
- Repetitive REST endpoint creation
- API schema validation issues
- OpenAPI/Swagger documentation gaps
- API versioning inconsistencies
- Authentication/authorization boilerplate
- Request/response validation patterns

---

## üéØ Recommended Skill: API-MASTER

### Purpose
Automate API development workflows including endpoint generation, schema validation, documentation, testing, and best practice enforcement for REST, GraphQL, and RPC APIs.

### Core Capabilities Needed

#### 1. API Pattern Detection
- Auto-detect REST/GraphQL/gRPC API files
- Identify API frameworks (FastAPI, Express, Flask, Django REST, etc.)
- Recognize API patterns in code (controllers, routes, handlers)

#### 2. Code Generation & Scaffolding
- Generate REST endpoint boilerplate
- Create GraphQL resolvers and schemas
- Build API route handlers with proper structure
- Generate request/response models
- Create API client SDK code

#### 3. Schema Management
- Validate request/response schemas
- Generate TypeScript/Python types from schemas
- Convert between schema formats (JSON Schema, OpenAPI, GraphQL SDL)
- Detect schema drift and breaking changes

#### 4. Documentation Automation
- Generate OpenAPI/Swagger specs from code
- Create API documentation markdown
- Build interactive API explorers
- Maintain API changelog and versioning docs

#### 5. Best Practices Enforcement
- Implement proper error handling patterns
- Add pagination to list endpoints
- Implement rate limiting
- Add request validation middleware
- Enforce consistent naming conventions
- Suggest caching strategies

#### 6. Testing Support
- Generate integration tests for endpoints
- Create mock API responses
- Build test fixtures and factories
- Suggest edge cases for testing

---

## üîß Implementation Guidance for Claude

### Skill Structure
Create a Claude skill with the following structure:
```
.claude/skills/api-master/
‚îú‚îÄ‚îÄ SKILL.md (name: api-master, description, activation triggers)
‚îú‚îÄ‚îÄ FORMS.md (configuration: api_type, framework, auth_method)
‚îú‚îÄ‚îÄ examples.md (real-world API development workflows)
‚îú‚îÄ‚îÄ reference.md (API best practices, patterns, anti-patterns)
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ api_generator.py         # Generate API boilerplate
‚îÇ   ‚îú‚îÄ‚îÄ schema_validator.py      # Validate API schemas
‚îÇ   ‚îú‚îÄ‚îÄ openapi_builder.py       # Build OpenAPI specifications
‚îÇ   ‚îú‚îÄ‚îÄ endpoint_analyzer.py     # Analyze existing endpoints
‚îÇ   ‚îî‚îÄ‚îÄ test_generator.py        # Generate API tests
‚îî‚îÄ‚îÄ templates/
    ‚îú‚îÄ‚îÄ rest_endpoint.py         # REST endpoint template
    ‚îú‚îÄ‚îÄ graphql_resolver.py      # GraphQL resolver template
    ‚îú‚îÄ‚îÄ api_client.py            # API client template
    ‚îî‚îÄ‚îÄ openapi_spec.yaml        # OpenAPI spec template
```

### Key Activation Triggers
Claude should activate api-master when:

**File Patterns:**
- `**/api/**/*.{py,js,ts,go,java}`
- `**/routes/**/*.{py,js,ts}`
- `**/controllers/**/*.{py,js,ts}`
- `**/graphql/**/*.{py,js,ts}`
- `**/*_controller.{py,rb}`
- `**/handlers/**/*.go`

**Code Patterns:**
- `@app.route(`, `@router.get(`, `@api.route(`
- `app.get(`, `app.post(`, `router.get(`
- `class.*APIView`, `class.*ViewSet`
- `type Query`, `type Mutation` (GraphQL)
- `@RestController`, `@RequestMapping` (Java)

**Keywords in User Requests:**
- "API", "endpoint", "REST", "GraphQL", "RPC"
- "schema", "OpenAPI", "Swagger"
- "request validation", "response model"
- "API documentation", "API client"

**Contextual Triggers:**
- Editing files in API-related directories
- Creating new endpoint files
- Modifying API schema definitions
- Working on API test files

### Recommended Behavior

#### 1. Auto-Detection & Proactive Suggestions
```
User edits: src/api/users.py
API-MASTER activates automatically and analyzes:
  - Missing pagination on list endpoint
  - No request validation for POST
  - Inconsistent error responses
  - Missing rate limiting

Suggests:
  "I noticed this endpoint could benefit from:
   1. Pagination (add offset/limit parameters)
   2. Request validation using Pydantic models
   3. Consistent error response format
   4. Rate limiting (suggest 100 req/min)

   Would you like me to implement these?"
```

#### 2. Smart Code Generation
```
User: "Create a REST endpoint for managing blog posts"

API-MASTER generates:
  ‚úì CRUD endpoints (GET, POST, PUT, DELETE)
  ‚úì Request/response models with validation
  ‚úì Pagination for list endpoint
  ‚úì Proper error handling
  ‚úì OpenAPI documentation
  ‚úì Integration tests
  ‚úì Rate limiting configuration
```

#### 3. Schema Validation & Documentation
```
User commits API changes

API-MASTER:
  1. Validates schema changes for breaking changes
  2. Updates OpenAPI specification
  3. Regenerates API documentation
  4. Updates API changelog
  5. Suggests version bump if needed
```

#### 4. Best Practice Enforcement
Automatically suggests or applies:
- Consistent HTTP status codes (200, 201, 400, 404, 500)
- Proper REST resource naming (plural nouns)
- Idempotency for PUT/DELETE
- Request/response compression
- CORS configuration
- API versioning strategy (URL path vs header)
- Authentication/authorization patterns

#### 5. Framework-Specific Intelligence
Detects framework and adapts:
- **FastAPI**: Uses Pydantic models, async/await, OpenAPI auto-generation
- **Express.js**: Middleware patterns, error handling, routing
- **Django REST**: ViewSets, serializers, permissions
- **Flask**: Blueprints, decorators, request validation
- **GraphQL**: Resolvers, type definitions, subscriptions

### Configuration Options (FORMS.md)

```yaml
api_type: rest | graphql | grpc | mixed
framework: auto | fastapi | express | django | flask | spring
auth_method: none | jwt | oauth2 | api_key | basic
enable_auto_docs: true | false
enable_auto_validation: true | false
enable_auto_tests: true | false
pagination_default: offset | cursor | page
error_format: json_api | problem_json | custom
versioning_strategy: url | header | none
rate_limiting: true | false
enable_cors: true | false
```

---

## üìù Directive Usage

### Implementation Priorities

**Phase 1 - Core Detection (Week 1)**
1. Implement file and code pattern detection
2. Create basic API endpoint analyzer
3. Build simple boilerplate generator

**Phase 2 - Code Generation (Week 2)**
4. Implement REST endpoint generator
5. Add request/response model generation
6. Create test generator

**Phase 3 - Documentation (Week 3)**
7. Build OpenAPI spec generator
8. Add schema validation
9. Implement breaking change detection

**Phase 4 - Advanced Features (Week 4)**
10. Add GraphQL support
11. Implement client SDK generator
12. Add performance optimization suggestions

### Testing Strategy
Test the skill with:
1. **Greenfield API** - Generate complete API from scratch
2. **Existing API** - Analyze and enhance existing endpoints
3. **Multi-framework** - Test with different frameworks
4. **Schema evolution** - Test breaking change detection
5. **Documentation** - Verify OpenAPI generation accuracy

---

## üìà Success Metrics

After creating this skill, measure success by:

**Quantitative Metrics:**
- Time to create new endpoint: < 5 minutes (vs 20+ minutes manual)
- API documentation coverage: > 95%
- Schema validation coverage: 100%
- Test coverage for API endpoints: > 80%
- Breaking changes caught: 100%

**Qualitative Metrics:**
- Consistent API design across all endpoints
- Reduced API-related bugs in production
- Faster API client integration
- Improved developer onboarding for API work
- Positive feedback on auto-generated docs

**SOUL Log Analysis:**
- Decreased mentions of "API documentation missing"
- Fewer "API breaking change" incidents
- Reduced "API validation errors"
- Less time spent on "API boilerplate"

---

## üéì Learning Resources

API-MASTER should reference these best practices:
- **REST**: RFC 7231 (HTTP semantics), Richardson Maturity Model
- **GraphQL**: GraphQL spec, Apollo best practices
- **OpenAPI**: OpenAPI 3.1 specification
- **Security**: OWASP API Security Top 10
- **Design**: API design patterns (pagination, filtering, versioning)

---

*This directive was generated by NEXUS pattern analysis and enhanced with specific API development expertise. Claude should use this as a comprehensive guide to build a production-ready API-MASTER skill that significantly accelerates API development workflows.*
